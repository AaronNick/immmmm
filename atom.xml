<?xml version="1.0" encoding="utf-8"?> 
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="zh-CN">
    <generator uri="https://gohugo.io/" version="0.67.1">Hugo</generator><title type="html"><![CDATA[首页 on 木木木木木]]></title>
    
    
    
            <link href="https://immmmm.com/atom.xml" rel="self" type="application/rss+xml" title="atom" />
            <link href="https://immmmm.com/" rel="alternate" type="text/html" title="HTML" />
            <link href="https://immmmm.com/index.json" rel="alternate" type="application/json" title="JSON" />
    <updated>2020-04-17T13:06:12+00:00</updated>
    
    
    
    
        <id>https://immmmm.com/atom.xml</id>
    
        
        <entry>
            <title type="html"><![CDATA[废话胶囊，值得拥有]]></title>
            <link href="https://immmmm.com/just-bb-by-leancloud/" rel="alternate" type="text/html" />
            
                <link href="https://immmmm.com/hugo-diy-post-type/" rel="related" type="text/html" title="Hugo 自定义文章样式" />
                <link href="https://immmmm.com/hugo-readdir-photos-single/" rel="related" type="text/html" title="Hugo 显示指定文件夹内图片" />
                <link href="https://immmmm.com/hugo-total-count/" rel="related" type="text/html" title="Hugo 总文章数和总字数" />
                <link href="https://immmmm.com/hugo-shortcodes-music/" rel="related" type="text/html" title="Hugo 音乐短代码" />
                <link href="https://immmmm.com/hugo-readdir-photos/" rel="related" type="text/html" title="Hugo 添加相册页面" />
            
                <id>https://immmmm.com/just-bb-by-leancloud/</id>
            
            
            <published>2020-04-17T18:24:01+08:00</published>
            <updated>2020-04-17T18:24:01+08:00</updated>
            
            
            <content type="html"><![CDATA[<p>刷 <a href="https://elizen.me/">@Elizen</a> 的知识星球，得知还有人折腾了这货 <a href="https://sspai.com/post/60024">无点赞评论版微博b言b语</a>，原来是基于 LeanCloud 来实现的，无比亲切。</p>
<p>这不，折腾折腾已整合到主题中（<a href="https://immmmm.com/bb/">这里</a>）。另外，又学了几招。</p>
<p>前端用 <code>AppID</code>、<code>AppKey</code> 来展示，并把 <code>class</code> 的 create 、delete 、update 三项权限设置为「指定用户」，后端用 <code>MasterKey</code> 来更新，避免数据被更改。</p>
<h3 id="页面改动">页面改动</h3>
<p>原作者提供了 <a href="https://github.com/daibor/nonsense.fun">index.html</a> 开箱即用，自己改成了 Hugo 版本 源码见 <a href="https://github.com/lmm214/immmmm/blob/master/themes/hello-friend/layouts/_default/bb.html">bb.html</a>，几处改动：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">p</span> <span style="color:#a6e22e">v-show</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;count == 0&#34;</span>&gt;别急，加载呢……&lt;/<span style="color:#f92672">p</span>&gt;
……
{{htmlUnescape &#34;{{count}}&#34; }}
……
{{htmlUnescape &#34;{{item.attributes.time}}&#34;}}
</code></pre></div><p>加了 loading 时的文字提示，源码输出 <code>{{}}</code>，避免 Hugo 语法冲突。</p>
<h3 id="更新途径">更新途径</h3>
<p>原作者提供了 <a href="https://www.icloud.com/shortcuts/3cfcbc36a6a24e0a8721bfeef8dfc6cf">iOS 快捷指令</a> 和 win下的 <a href="https://getquicker.net/sharedaction?code=eeb80278-5f53-4b0d-d333-08d7e0dd26a9">Quicker 模板</a>。这里增加一个 VSCode 的 <a href="https://marketplace.visualstudio.com/items?itemName=humao.rest-client">REST Client</a> 插件更新方法。</p>
<p>新建一个 <code>.http</code> 或 <code>.rest</code> 为后缀的文件：</p>
<pre><code>POST https://你的AppID前6位.api.lncldglobal.com/1.1/classes/content
X-LC-Id: 你的AppID
X-LC-Key: 你的MasterKey,master
Content-Type: application/json

{
    &quot;content&quot;:&quot;更新测试&quot;
}
</code></pre><p>写好 <code>content</code> 内容后【右键&ndash;Send Request】或快捷键 【Cmd+Alt+R】发布。</p>
<p>为了能第一时间找到这个文件，安利 VSCode 的 <a href="https://marketplace.visualstudio.com/items?itemName=howardzuo.vscode-favorites">favorites</a> 插件，一件收藏，随点随开。</p>
<h3 id="一句后话">一句后话</h3>
<p>这功能让我回想起多年前WP的「一句话公告/状态」、「说说」页面，流逝的时光，不变的需求！周末愉快！</p>]]></content>
            
                 
                    
                 
                    
                         
                        
                            
                             
                                <category scheme="https://immmmm.com/tags/%E6%8A%98%E8%85%BE" term="%E6%8A%98%E8%85%BE" label="折腾" />
                            
                        
                    
                
            
        </entry>
    
        
        <entry>
            <title type="html"><![CDATA[你信什么]]></title>
            <link href="https://immmmm.com/dont-forget-smile/" rel="alternate" type="text/html" />
            
                <link href="https://immmmm.com/waiting-for-spring/" rel="related" type="text/html" title="春" />
                <link href="https://immmmm.com/happy-birthday-2020/" rel="related" type="text/html" title="庆生" />
                <link href="https://immmmm.com/hi-2020/" rel="related" type="text/html" title="二〇二〇，你好" />
                <link href="https://immmmm.com/macbook-some-things/" rel="related" type="text/html" title="Macbook 二三事" />
                <link href="https://immmmm.com/the-world-between-us/" rel="related" type="text/html" title="我們與惡的距離" />
            
                <id>https://immmmm.com/dont-forget-smile/</id>
            
            
            <published>2020-04-15T23:44:54+08:00</published>
            <updated>2020-04-15T23:44:54+08:00</updated>
            
            
            <content type="html"><![CDATA[<p>Don‘t <del>Forget To</del> Smile.</p>
<p>刷完《余欢水》，想起《小丑》这幕，呵呵，听歌听歌。</p>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
<style type="text/css">.dark-theme .aplayer{background:#212121}.dark-theme .aplayer.aplayer-withlist .aplayer-info{border-bottom-color:#5c5c5c}.dark-theme .aplayer.aplayer-fixed .aplayer-list{border-color:#5c5c5c}.dark-theme .aplayer .aplayer-body{background-color:#212121}.dark-theme .aplayer .aplayer-info{border-top-color:#212121}.dark-theme .aplayer .aplayer-info .aplayer-music .aplayer-title{color:#fff}.dark-theme .aplayer .aplayer-info .aplayer-music .aplayer-author{color:#fff}.dark-theme .aplayer .aplayer-info .aplayer-controller .aplayer-time{color:#eee}.dark-theme .aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon path{fill:#eee}.dark-theme .aplayer .aplayer-list{background-color:#212121}.dark-theme .aplayer .aplayer-list::-webkit-scrollbar-thumb{background-color:#999}.dark-theme .aplayer .aplayer-list::-webkit-scrollbar-thumb:hover{background-color:#bbb}.dark-theme .aplayer .aplayer-list li{color:#fff;border-top-color:#666}.dark-theme .aplayer .aplayer-list li:hover{background:#4e4e4e}.dark-theme .aplayer .aplayer-list li.aplayer-list-light{background:#6c6c6c}.dark-theme .aplayer .aplayer-list li .aplayer-list-index{color:#ddd}.dark-theme .aplayer .aplayer-list li .aplayer-list-author{color:#ddd}.dark-theme .aplayer .aplayer-lrc{text-shadow:-1px -1px 0 #666}.dark-theme .aplayer .aplayer-lrc:before{background:-moz-linear-gradient(top, #212121 0%, rgba(33,33,33,0) 100%);background:-webkit-linear-gradient(top, #212121 0%, rgba(33,33,33,0) 100%);background:linear-gradient(to bottom, #212121 0%, rgba(33,33,33,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#212121', endColorstr='#00212121',GradientType=0 )}.dark-theme .aplayer .aplayer-lrc:after{background:-moz-linear-gradient(top, rgba(33,33,33,0) 0%, rgba(33,33,33,0.8) 100%);background:-webkit-linear-gradient(top, rgba(33,33,33,0) 0%, rgba(33,33,33,0.8) 100%);background:linear-gradient(to bottom, rgba(33,33,33,0) 0%, rgba(33,33,33,0.8) 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#00212121', endColorstr='#cc212121',GradientType=0 )}.dark-theme .aplayer .aplayer-lrc p{color:#fff}.dark-theme .aplayer .aplayer-miniswitcher{background:#484848}.dark-theme .aplayer .aplayer-miniswitcher .aplayer-icon path{fill:#eee}</style>
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script><meting-js auto="https://y.qq.com/n/yqq/album/001uX0iQ3SWJuV.html" theme="#2980b9"></meting-js>
<p>🃏</p>]]></content>
            
                 
                    
                 
                    
                         
                        
                            
                             
                                <category scheme="https://immmmm.com/tags/%E6%97%A5%E5%B8%B8" term="%E6%97%A5%E5%B8%B8" label="日常" />
                            
                        
                    
                
            
        </entry>
    
        
        <entry>
            <title type="html"><![CDATA[2020-04-12]]></title>
            <link href="https://immmmm.com/2020-04-12/" rel="alternate" type="text/html" />
            
                <link href="https://immmmm.com/2020-04-10/" rel="related" type="text/html" title="2020-04-10" />
                <link href="https://immmmm.com/2020-04-04/" rel="related" type="text/html" title="2020-04-04" />
                <link href="https://immmmm.com/2020-03-23/" rel="related" type="text/html" title="2020-03-23" />
                <link href="https://immmmm.com/2020-03-09/" rel="related" type="text/html" title="2020-03-09" />
                <link href="https://immmmm.com/2020-01-14/" rel="related" type="text/html" title="2020-01-14" />
            
                <id>https://immmmm.com/2020-04-12/</id>
            
            
            <published>2020-04-12T22:19:51+08:00</published>
            <updated>2020-04-12T22:19:51+08:00</updated>
            
            
            <content type="html"><![CDATA[<p>👩🏻：今天要不要出去玩？</p>
<p>🐑：不要了吧，在家玩也可以。疫情期间，尽量不要出门。</p>
<p>👩🏻：😳</p>
<p>过了一会儿……</p>
<p>👨：羊，我们去哪里玩呀？</p>
<p>👩🏻：羊说不要出去。</p>
<p>🐑：我要出去的！</p>
<p>👩🏻：你刚刚说不要出去的。</p>
<p>🐑：尽量哎！！大部分不要出门，偶尔偶尔还是可以的！</p>
<p>👩🏻：😓😓😓</p>]]></content>
            
                 
                    
                 
                    
                         
                        
                            
                             
                                <category scheme="https://immmmm.com/tags/%E8%AF%8D%E7%A9%B7" term="%E8%AF%8D%E7%A9%B7" label="词穷" />
                            
                        
                    
                
            
        </entry>
    
        
        <entry>
            <title type="html"><![CDATA[Hugo 自定义文章样式]]></title>
            <link href="https://immmmm.com/hugo-diy-post-type/" rel="alternate" type="text/html" />
            
                <link href="https://immmmm.com/hugo-readdir-photos-single/" rel="related" type="text/html" title="Hugo 显示指定文件夹内图片" />
                <link href="https://immmmm.com/hugo-total-count/" rel="related" type="text/html" title="Hugo 总文章数和总字数" />
                <link href="https://immmmm.com/hugo-shortcodes-music/" rel="related" type="text/html" title="Hugo 音乐短代码" />
                <link href="https://immmmm.com/hugo-readdir-photos/" rel="related" type="text/html" title="Hugo 添加相册页面" />
                <link href="https://immmmm.com/hugo-shortcodes-article-link/" rel="related" type="text/html" title="Hugo 文章内链优化显示" />
            
                <id>https://immmmm.com/hugo-diy-post-type/</id>
            
            
            <published>2020-04-12T18:00:27+08:00</published>
            <updated>2020-04-12T18:00:27+08:00</updated>
            
            
            <content type="html"><![CDATA[<p>之前 WordPress 推出不同文章样式，如轻博客一样，发一句话、链接或视频有不同的显示效果。之后，用 Hexo、Bitcron 时都以文件夹形式进行文章分类，并以此为判断条件。</p>
<p>效果见：<a href="https://immmmm.com/posts/chat/">https://immmmm.com/posts/chat/</a></p>
<pre><code>content
├── posts
│   ├── chat
│   ├── coding
│   ├── daily
│   ├── reading
</code></pre><p>如 <code>chat</code> 目录内的 md 文件是以一句话的模式（头像+时间）显示，怎么实现呢？利用 Hugo 的 <a href="https://gohugo.io/variables/files/">.File.Dir</a> 和 <a href="https://gohugo.io/functions/replacere/">replaceRE</a> 正则。</p>
<h3 id="核心代码如下">核心代码如下：</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">{{ $PostCate := .File.Dir | replaceRE &#34;posts/(.*)/&#34; &#34;$1&#34;}}
{{ if eq $PostCate &#34;chat&#34;}}
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post-meta&#34;</span>&gt;
        {{ if .Date }}
            &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post-date&#34;</span>&gt;{{ .Date.Format | default &#34;2006-01-02&#34; }}&lt;/<span style="color:#f92672">span</span>&gt;
        {{ end }}
    &lt;/<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post-content&#34;</span>&gt;
        &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ .Permalink }}&#34;</span>&gt;&lt;<span style="color:#f92672">img</span> <span style="color:#a6e22e">loading</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;lazy&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;avatar&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">https://gravatar.loli.net/avatar/{{</span> <span style="color:#a6e22e">md5</span> <span style="color:#960050;background-color:#1e0010">&#34;</span><span style="color:#a6e22e">自己的邮箱</span><span style="color:#960050;background-color:#1e0010">&#34;</span> <span style="color:#960050;background-color:#1e0010">}}</span> &gt;&lt;/<span style="color:#f92672">a</span>&gt;
        {{ .Content }}
    &lt;/<span style="color:#f92672">div</span>&gt;
{{ else }}
    ……正常文章样式
{{ end }}
</code></pre></div><p>一般修改 <code>_default/list.html</code> 和 <code>_default/single.html</code>，其中 list 是放在文章列表的 <code>{{rang ……}}</code> 循环之中。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">{{ range 什么什么 .Pages }}
    ……这里
{{ end }}
</code></pre></div><h3 id="随意说明">随意说明</h3>
<p><code>.File.Dir</code> 是获取当前文章的相对路径 <code>posts/coding/</code> ，<code>replaceRE &quot;posts/(.*)/&quot; &quot;$1&quot;</code> 是正则到 <code>coding</code> 子文件夹名，之后 <code>{{ if eq $PostCate &quot;chat&quot;}}</code> 就是判断咯 🤷‍♂️</p>]]></content>
            
                 
                    
                 
                    
                         
                        
                            
                             
                                <category scheme="https://immmmm.com/tags/%E6%8A%98%E8%85%BE" term="%E6%8A%98%E8%85%BE" label="折腾" />
                            
                        
                    
                
            
        </entry>
    
        
        <entry>
            <title type="html"><![CDATA[Hugo 显示指定文件夹内图片]]></title>
            <link href="https://immmmm.com/hugo-readdir-photos-single/" rel="alternate" type="text/html" />
            
                <link href="https://immmmm.com/hugo-total-count/" rel="related" type="text/html" title="Hugo 总文章数和总字数" />
                <link href="https://immmmm.com/hugo-shortcodes-music/" rel="related" type="text/html" title="Hugo 音乐短代码" />
                <link href="https://immmmm.com/hugo-readdir-photos/" rel="related" type="text/html" title="Hugo 添加相册页面" />
                <link href="https://immmmm.com/hugo-shortcodes-article-link/" rel="related" type="text/html" title="Hugo 文章内链优化显示" />
                <link href="https://immmmm.com/use-visual-studio-code/" rel="related" type="text/html" title="VS Code 初体验" />
            
                <id>https://immmmm.com/hugo-readdir-photos-single/</id>
            
            
            <published>2020-04-10T20:38:16+08:00</published>
            <updated>2020-04-10T20:38:16+08:00</updated>
            
            
            <content type="html"><![CDATA[<p>效果见文章底部，这些图片非手动一张张插入，文章头部一句 <code>path: 2004gd</code> 搞定！</p>
<p>直接看代码：</p>
<pre><code>{{ if .Params.path }}
    {{$Path := .Params.path}}
    {{- range (readDir (printf &quot;%s%s&quot; &quot;./static/images/&quot; $Path )) -}}&lt;img loading='lazy' src=&quot;{{(printf &quot;/images/%s/%s&quot; $Path .Name ) | absURL}}&quot; /&gt;{{- end -}}
{{ end }}
</code></pre><p>当文章中写了 <code>path: 2004gd</code> 表示 Hugo 遍历根目录 <code>/static/images/2004gd</code> 内的图片并显示。</p>
<p>这功能其实之前 Bitcron 的主题里就有，太符合老年人的需求了，一句话，一堆图片，一篇文章搞定！</p>
<p>当然，如果使用 Github 托管，随手羊毛撸起，<code>lmm214/immmmm@gh-pages</code> 需自行更改：</p>
<pre><code>{{ if .Params.path }}
    {{$Path := .Params.path}}
    {{- range (readDir (printf &quot;%s%s&quot; &quot;./static/images/&quot; $Path )) -}}&lt;img loading='lazy' src=&quot;{{(printf &quot;https://cdn.jsdelivr.net/gh/lmm214/immmmm@gh-pages/images/%s/%s&quot; $Path .Name ) | absURL}}&quot; /&gt;{{- end -}}
{{ end }}
</code></pre><p>注：代码仅实现功能，灯箱效果什么的需要自行适配主题。</p>]]></content>
            
                 
                    
                 
                    
                         
                        
                            
                             
                                <category scheme="https://immmmm.com/tags/%E6%8A%98%E8%85%BE" term="%E6%8A%98%E8%85%BE" label="折腾" />
                            
                        
                    
                
            
        </entry>
    
</feed>
